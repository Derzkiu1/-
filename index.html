<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Игра в Телеграм</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Russo+One&display=swap');

        body {
            font-family: 'Roboto', sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: #1e1e1e;
            color: #e0e0e0;
            padding: 1px;
            text-align: center;
        }
        .fade-in-out {
            display: inline-block;
            animation: fadeInOut 5s infinite;
        }
        @keyframes fadeInOut {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        nav {
            background-color: #333;
            padding: 10px;
            text-align: center;
        }
        nav a {
            margin: 0 10px;
            text-decoration: none;
            color: #e0e0e0;
            font-family: 'Russo One', sans-serif;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
        }
        .player-info {
            text-align: center;
            margin-bottom: 20px;
        }
        .player-info img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 2px solid #e0e0e0;
        }
        .achievements {
            background-color: #1e1e1e;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: center;
        }
        .achievements h3 {
            font-family: 'Russo One', sans-serif;
            color: #ff9800;
            margin-bottom: 20px;
        }
        .achievement-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 20px;
            justify-items: center;
        }
        .achievement {
            background-color: #333;
            padding: 20px;
            border-radius: 8px;
            width: 45%;
            height: 45%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #e0e0e0;
            font-family: 'Russo One', sans-serif;
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .achievement:hover {
            transform: translateY(-5px);
        }
        .achievement.locked {
            background-color: #555;
            color: #777;
        }
        .achievement img {
            width: 50px;
            height: 50px;
            margin-bottom: 10px;
        }

        /* Модальное окно */
        .modal {
            display: none; /* Скрыто по умолчанию */
            position: fixed;
            z-index: 1; /* Поместите его поверх всего остального */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto; /* Включить прокрутку, если это необходимо */
            background-color: rgba(0,0,0,0.4); /* Черный с прозрачностью */
        }

        /* Контейнер модального окна */
        .modal-content {
            background-color: #c76b08;
            margin: 15% auto; /* 15% от верхней и нижней стороны экрана */
            padding: 20px;
            border: 1px solid #888;
            width: 80%; /* Ширина контейнера */
            border-radius: 8px;
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
            position: relative;
        }

        /* Закрыть кнопку */
        .close {
            color: #aaa;
            position: absolute;
            top: 0;
            right: 0;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <header id="header">
        <h1 id="headerText"></h1>
    </header>
    <nav>
        <a href="index.hml">Home</a>
        <a href="top.html">Top</a>
        <a href="shop.html">Shop</a>
    </nav>
    <div class="container">
        <div class="player-info">
            <img src="https://via.placeholder.com/100" alt="Avatar">
            <h2>Игрок: <span id="playerName">Имя игрока</span></h2>
            <p>Баланс: <span id="balance">0 DLC</span></p>
        </div>
        <div class="achievements">
            <h3>Ачивки</h3>
            <div class="achievement-grid" id="achievementGrid">
                <!-- Ачивки будут добавлены здесь -->
            </div>
            <div id="myModal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <p>Поздравляем! Вы получили новую ачивку: <span id="achievementName"></span></p>
                    <p>Вам начислено бонусных монет: <span id="bonusCoins">0 DLC</span></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Проверяем, зашел ли игрок в игру первый раз
        let isFirstTime = true;

        // Обновление информации об игроке
        function updatePlayerInfo(playerData) {
            document.getElementById('playerName').innerText = playerData.name;
            document.getElementById('balance').innerText = playerData.balance + ' DLC';
            // Здесь вы можете добавить код для обновления фото игрока
        }

        // Функция для отображения модального окна
        function showModal(achievementName, bonusCoins) {
            const modal = document.getElementById('myModal');
            const span = document.getElementsByClassName('close')[0];
            const achievementNameSpan = document.getElementById('achievementName');
            const bonusCoinsSpan = document.getElementById('bonusCoins');

            // При клике на кнопку "Закрыть", модальное окно закрывается
            span.onclick = function() {
                modal.style.display = "none";
            }

            // При клике вне модального окна, оно также закрывается
            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }

            // Отображаем сообщение об ачивке и бонусе монет в модальном окне
            achievementNameSpan.textContent = achievementName;
            bonusCoinsSpan.textContent = bonusCoins + ' DLC';

            // Открываем модальное окно
            modal.style.display = "block";
        }

        // Обновление баланса и проверка на получение новой ачивки
        function updateBalanceAndCheckAchievement(newBalance) {
            const balanceElement = document.getElementById('balance');
            const currentBalance = parseInt(balanceElement.innerText);
            balanceElement.innerText = newBalance + ' DLC';

            // Проверяем, если игрок впервые достиг баланса 5000
            if (newBalance >= 5000 && currentBalance < 5000 && isFirstTime) {
                // Показываем модальное окно
                showModal("Достижение: Баланс 5000", 100); // 100 - это примерный бонус монет
                isFirstTime = false; // Помечаем, что игрок больше не в первый раз в игре
            }
        }

        // Примерный код для обновления баланса
        // Ваш код может выглядеть иначе, например, в зависимости от того,
        // каким образом вы получаете данные о балансе игрока
        const initialBalance = 45000; // Баланс в DLC, установленный для примера
        updateBalanceAndCheckAchievement(initialBalance);

        // Добавляем анимацию для заголовка
        const headerText = "Dillercoin";
        const headerElement = document.getElementById('headerText');

        function addLetterAnimation(letter, delay) {
            const span = document.createElement('span');
            span.textContent = letter;
            span.className = 'fade-in-out';
            span.style.animationDelay = `${delay}s`;
            headerElement.appendChild(span);
        }

        headerText.split('').forEach((letter, index) => {
            addLetterAnimation(letter, index * 0.5);
        });

        // Ачивки
        const achievements = [
            { name: 'Ачивка 1', achieved: true, icon: 'https://cdn-icons-png.flaticon.com/512/4319/4319092.png' },
            { name: 'Баланс 5000', achieved: initialBalance >= 5000, icon: 'https://tr.rbxcdn.com/e151abd53a8c514c40e0cc2b17d4139b/420/420/Image/Png' },
            { name: 'Баланс 10000', achieved: initialBalance >= 10000, icon: 'https://tr.rbxcdn.com/e38dc81bb233400fa9d38bd19a833ff1/420/420/Image/Png' },

        ];

        const achievementGrid = document.getElementById('achievementGrid');

        achievements.forEach((achievement, index) => {
            const div = document.createElement('div');
            div.className = 'achievement';
            if (!achievement.achieved) {
                div.classList.add('locked');
            }
            const img = document.createElement('img');
            img.src = achievement.icon;
            div.appendChild(img);
            const text = document.createElement('span');
            text.textContent = achievement.name;
            div.appendChild(text);
            achievementGrid.appendChild(div);

            // Добавляем обработчик клика для отображения модального окна при клике на незаблокированные ачивки
            if (achievement.achieved) {
                div.addEventListener('click', () => {
                    // Получаем информацию об ачивке и бонусных монетах
                    const achievementName = achievement.name;
                    const bonusCoins = 100; // Замените этот код фактическим получением бонусных монет

                    // Показываем модальное окно с информацией об ачивке
                    showModal(achievementName, bonusCoins);
                });
            }
        });
    </script>
</body>
</html>

